(()=>{"use strict";var t,e;!function(t){t.name="name",t.ep="ep"}(t||(t={}));class n extends HTMLElement{static get observedAttributes(){return Object.keys({name:null,ep:null})}attributeChangedCallback(t,e,n){this[t]=n,this.render()}constructor(){super(),this.attachShadow({mode:"open"}),this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <div class="card">\n            <p>${this.name}</p>\n            <p>${this.ep}</p>\n            </div>\n            `)}}customElements.define("my-card",n),function(t){t.name="name",t.img="img"}(e||(e={}));class o extends HTMLElement{static get observedAttributes(){return Object.keys({name:null,img:null})}attributeChangedCallback(t,e,n){this[t]=n,this.render()}constructor(){super(),this.attachShadow({mode:"open"}),this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <div class="card">\n            <p>${this.name}</p>\n            <img src="${this.img}">\n            </div>\n            `)}}customElements.define("my-char",o);var i=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function c(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((o=o.apply(t,e||[])).next())}))},r=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function c(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((o=o.apply(t,e||[])).next())}))};class s extends HTMLElement{constructor(){super(),this.allcards=[],this.attachShadow({mode:"open"})}connectedCallback(){var t,e;return r(this,void 0,void 0,(function*(){const n=yield i(void 0,void 0,void 0,(function*(){try{return fetch("https://rickandmortyapi.com/api/episode").then((t=>t.json()))}catch(t){console.log(t)}}));this.render();const o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".btnclick"),r=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("input");null==o||o.addEventListener("click",(()=>{let t=null==r?void 0:r.value;console.log(t),this.filter(Number(t),n.results)}))}))}filter(n,o){var s;for(let c=0;c<n;c++){console.log(o[c]);const n=this.ownerDocument.createElement("div"),a=this.ownerDocument.createElement("my-card");a.setAttribute(t.name,o[c].name),a.setAttribute(t.ep,o[c].episode),n.appendChild(a),o[c].characters.forEach((t=>r(this,void 0,void 0,(function*(){const o=yield(r=t,i(void 0,void 0,void 0,(function*(){try{return fetch(`${r}`).then((t=>t.json()))}catch(t){console.log(t)}})));var r;const s=this.ownerDocument.createElement("my-char");s.setAttribute(e.img,o.image),s.setAttribute(e.name,o.name),n.appendChild(s)})))),null===(s=this.allcards)||void 0===s||s.push(n)}this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n        <input class="" type="text" placeholder="Escribe un nÃºmero">\n        <button class="btnclick">Filtrar</button>\n        <p>hpta</p>\n        ',this.allcards.forEach((t=>{var e;null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)})))}}customElements.define("app-container",s)})();