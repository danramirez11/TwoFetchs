(()=>{"use strict";var t,e;!function(t){t.name="name",t.ep="ep"}(t||(t={}));class n extends HTMLElement{static get observedAttributes(){return Object.keys({name:null,ep:null})}attributeChangedCallback(t,e,n){this[t]=n,this.render()}constructor(){super(),this.attachShadow({mode:"open"}),this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <div class="card">\n            <p>${this.name}</p>\n            <p>${this.ep}</p>\n            </div>\n            `)}}customElements.define("my-card",n),function(t){t.name="name",t.img="img"}(e||(e={}));class o extends HTMLElement{static get observedAttributes(){return Object.keys({name:null,img:null})}attributeChangedCallback(t,e,n){this[t]=n,this.render()}constructor(){super(),this.attachShadow({mode:"open"}),this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <div class="card">\n            <p>${this.name}</p>\n            <img src="${this.img}">\n            </div>\n            `)}}customElements.define("my-char",o);var i=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{a(o.next(t))}catch(t){r(t)}}function s(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}a((o=o.apply(t,e||[])).next())}))},r=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{a(o.next(t))}catch(t){r(t)}}function s(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}a((o=o.apply(t,e||[])).next())}))};class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){return r(this,void 0,void 0,(function*(){const t=yield i(void 0,void 0,void 0,(function*(){try{return fetch("https://rickandmortyapi.com/api/episode").then((t=>t.json()))}catch(t){console.log(t)}}));this.render(t.results)}))}render(n){this.shadowRoot&&(this.shadowRoot.innerHTML="\n        \n        ",n.forEach((n=>{var o;const c=this.ownerDocument.createElement("div"),s=this.ownerDocument.createElement("my-card");s.setAttribute(t.name,n.name),s.setAttribute(t.ep,n.episode),c.appendChild(s),n.characters.forEach((t=>r(this,void 0,void 0,(function*(){const n=yield(o=t,i(void 0,void 0,void 0,(function*(){try{return fetch(`${o}`).then((t=>t.json()))}catch(t){console.log(t)}})));var o;const r=this.ownerDocument.createElement("my-char");r.setAttribute(e.img,n.image),r.setAttribute(e.name,n.name),console.log(n.url),c.appendChild(r)})))),null===(o=this.shadowRoot)||void 0===o||o.appendChild(c)})))}}customElements.define("app-container",c)})();